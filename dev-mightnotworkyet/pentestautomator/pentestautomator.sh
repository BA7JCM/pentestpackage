#!/bin/bash

# Determine the directory where the script is located
SCRIPT_DIR="$( cd "$( dirname "${BASH_SOURCE[0]}" )" &> /dev/null && pwd )"

# Function to create output directory
create_output_directory() {
    current_date=$(date +%Y%m%d)
    output_dir="$HOME/pentestautomator-results-$current_date"
    mkdir -p "$output_dir"
    echo "Output directory created: $output_dir"
}


# Function for the main menu
show_main_menu() {
    echo "PentestAutomator Main Menu"
    echo "1. SNMP Check"
    echo "2. [Other Module]"
    echo "3. Exit"
    echo -n "Enter your choice: "
    read choice
    case $choice in
        1) bash "$SCRIPT_DIR/snmp_check.sh" "$output_dir";;
        2) ;; # Placeholder for other module
        3) exit 0;;
        *) echo "Invalid option";;
    esac
}

# Main script execution
create_output_directory
while true; do
    show_main_menu
done

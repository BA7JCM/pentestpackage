#!/bin/bash

if [ "$EUID" -ne 0 ]
  then echo "Please run as sudo"
  exit
fi

if [ -z "$2" ] || [ -z "$(echo $2 | tr -d ' ')" ]; then
	echo "Usage script.sh [OPTION] [NETWORK_NAME]"
	echo "Options:"
	echo " -I, --ingress Run ingress testing"
	echo " -E, --egress Run egress testing"
	echo " -h, --help Display this help and exit"
    exit
else
    while [ "$1" != "" ]; do
    case $1 in
        -I | --ingress )  # Code for the --ingress or -I option
                              #xterm -e "bash -c 'nmap -sT -p- -Pn -T4 -oA TCP-$2-cde -n -iL scope-cde.txt; exec bash'" &
                              #xterm -e "bash -c 'sudo nmap -sU -Pn -T4 -n -oA UDP-$2-cde -n -iL scope-cde.txt; exec bash'" &
                              echo "this is the ingress scan. variable $2"
                              shift
                            ;;
        -E | --egress )   
					echo "this is the egress scan. variable $2"
                             
shift
;;
-h | --help ) echo "Usage script.sh [OPTION] [NETWORK_NAME]"
echo "Options:"
echo " -I, --ingress Run ingress testing"
echo " -E, --egress Run egress testing"
echo " -h, --help Display this help and exit"
exit
;;
* ) echo "Invalid option: $1"
exit 1
esac
shift
done
fi
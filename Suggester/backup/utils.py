# Banner and usage
BANNER = """
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|P|e|n|t|e|s|t|P|a|c|k|a|g|e|
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
    Script: suggester.py
    Author: Leon Teale
    Twitter: @leonteale
    Website: cyberwolf-security.co.uk
    Version: 2.0.2
"""

import os
import sys
import subprocess
from termcolor import colored
from selenium import webdriver
from tqdm import tqdm

def print_banner(attack_mode=False):
    print(BANNER)
    if attack_mode:
        print(colored("Attack mode activated.", "yellow"))
    print(colored("Checking requirements: ", "grey"), end='')
    check_requirements()


def check_requirements():
    required_modules = ['pandas', 'xml', 'selenium', 'termcolor', 'tqdm', 'webdriver_manager']
    for module in required_modules:
        try:
            __import__(module)
        except ImportError:
            answer = input(colored(f"The '{module}' module is not installed. Would you like to install {module} now? (Y/N): ", 'yellow')).lower()
            if answer == 'y':
                subprocess.run([sys.executable, "-m", "pip", "install", module])
            else:
                print("This script requires the module to run. Exiting...")
                sys.exit(1)

    # Check for Chrome
    if os.system('which google-chrome-stable > /dev/null 2>&1') != 0:
        print(colored("Google Chrome is not installed. It is required for the 'screenshotter' attack module.", 'red'))
        sys.exit(1)
    else:
        print(colored("PASSED", "green"))

